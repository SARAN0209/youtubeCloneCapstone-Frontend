{"ast":null,"code":"var _jsxFileName = \"D:\\\\B38wdtamilbatch\\\\Youtube Clone Final Project\\\\client\\\\src\\\\pages\\\\AddVideoPage\\\\AddVideo.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./addVideo.css\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddVideo = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const [title, setTitle] = useState(null);\n  const [description, setDescription] = useState();\n  const [image, setImage] = useState();\n  const [file, setFile] = useState();\n  const [imagePreview, setImagePreview] = useState();\n  const [videoPreview, setVideoPreview] = useState();\n  useEffect(() => {\n    const checkAddVideoAuth = async () => {\n      if (!currentUser && currentUser === null) {\n        navigate(\"/\");\n      }\n\n      ;\n    };\n\n    checkAddVideoAuth();\n  }, [currentUser]);\n  const beingProcessedVideoOptions = {\n    className: \"toast-position\",\n    position: \"top-center\",\n    autoClose: 5000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"ligth\"\n  };\n  const anErrorOptions = {\n    className: \"toast-position\",\n    position: \"top-center\",\n    autoClose: 5000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"ligth\"\n  };\n\n  const send = async () => {\n    const data = new FormData();\n    data.append(\"title\", title);\n    data.append(\"description\", description);\n    data.append(\"image\", image);\n    data.append(\"file\", file);\n    const res = await axios.post('/videos/', data);\n\n    if (res.status === 200 && res.statusText) {\n      toast.info(\"Video is being processed, will be uploaded shortly.\", beingProcessedVideoOptions);\n      setTimeout(() => {\n        navigate('/');\n      }, 6500);\n    } else if (res.status !== 200) {\n      toast.error(\"Something went wrong.\", anErrorOptions);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-upload\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-upload-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"file-upload-text\",\n        children: \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"#\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Video Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-upload-input\",\n          type: \"text\",\n          name: \"title\",\n          id: \"\",\n          onChange: event => {\n            const title = event.target.value;\n            setTitle(title);\n          },\n          placeholder: \"File Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginTop: \"5px\"\n          },\n          children: \"Video Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-upload-input\",\n          type: \"text\",\n          name: \"description\",\n          id: \"\",\n          onChange: event => {\n            const description = event.target.value;\n            setDescription(description);\n          },\n          placeholder: \"File Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Video Image:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-upload-input\",\n          type: \"file\",\n          name: \"image\",\n          id: \"\",\n          accept: \".jpg, .jpeg, .png\",\n          onChange: event => {\n            const image = event.target.files[0];\n            setImage(image);\n            setImagePreview(URL.createObjectURL(event.target.files[0]));\n          },\n          placeholder: \"Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), \"Video File:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-upload-input\",\n          type: \"file\",\n          name: \"file\",\n          id: \"\",\n          accept: \".mp4\",\n          onChange: event => {\n            const file = event.target.files[0];\n            setFile(file);\n            setVideoPreview(URL.createObjectURL(event.target.files[0]));\n          },\n          placeholder: \"File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"uploadedFiles\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uploadedImage\",\n          children: [\"Your Video Image:\", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreview,\n            alt: \"\",\n            className: \"uploadedImagePreview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uploadedVideo\",\n          children: [\"Your Video:\", /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: videoPreview,\n            frameborder: \"0\",\n            className: \"uploaded-video\",\n            width: \"250px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"file-upload-button\",\n        onClick: send,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddVideo, \"rNlsVtr3fKIVJM0WKgc2kzFU/aE=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = AddVideo;\nexport default AddVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddVideo\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","ToastContainer","toast","useSelector","AddVideo","navigate","currentUser","state","user","title","setTitle","description","setDescription","image","setImage","file","setFile","imagePreview","setImagePreview","videoPreview","setVideoPreview","checkAddVideoAuth","beingProcessedVideoOptions","className","position","autoClose","pauseOnHover","draggable","theme","anErrorOptions","send","data","FormData","append","res","post","status","statusText","info","setTimeout","error","event","target","value","marginTop","files","URL","createObjectURL"],"sources":["D:/B38wdtamilbatch/Youtube Clone Final Project/client/src/pages/AddVideoPage/AddVideo.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./addVideo.css\";\n\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\nimport {ToastContainer, toast} from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport {useSelector} from \"react-redux\";\n\nconst AddVideo = () => {\n  \n  const navigate = useNavigate();\n  const {currentUser} = useSelector(state => state.user);\n\n  const [title, setTitle] = useState(null);\n  const [description, setDescription] = useState();\n  const [image, setImage] = useState();\n  const [file, setFile] = useState();\n  const [imagePreview, setImagePreview] = useState();\n  const [videoPreview, setVideoPreview] = useState();\n  \n  useEffect(() => {\n    const checkAddVideoAuth = async () => {\n      if (!currentUser && currentUser === null) {\n        navigate(\"/\")\n      };\n    };\n    checkAddVideoAuth();\n  }, [currentUser]);\n\n  const beingProcessedVideoOptions = {\n    className: \"toast-position\",\n    position: \"top-center\",\n    autoClose: 5000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"ligth\",\n  };\n\n  const anErrorOptions = {\n    className: \"toast-position\",\n    position: \"top-center\",\n    autoClose: 5000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"ligth\",\n  };\n\n  const send = async () => {\n    const data = new FormData();\n\n    data.append(\"title\", title);\n    data.append(\"description\", description);\n    data.append(\"image\", image);\n    data.append(\"file\", file);\n\n    const res = await axios.post('/videos/', data)\n    if(res.status === 200 && res.statusText){\n       toast.info(\"Video is being processed, will be uploaded shortly.\", beingProcessedVideoOptions);\n       setTimeout(()=> {\n          navigate('/')\n       }, 6500)\n    }\n    else if(res.status !== 200){\n       toast.error(\"Something went wrong.\", anErrorOptions)\n    }\n  }\n\n  return (\n    <div className='file-upload'>\n    <div className='file-upload-wrapper'>\n        <h1 className='file-upload-text'>Upload File</h1>\n\n        <form action=\"#\">\n            <label>Video Name:</label>\n            <input\n                className='file-upload-input'\n                type=\"text\"\n                name=\"title\"\n                id=\"\"\n                onChange={event=> {\n                    const title = event.target.value;\n                    setTitle(title);\n                }}\n                placeholder='File Name'>\n            </input>\n\n            <label style={{marginTop: \"5px\"}}>Video Description:</label>\n            <input\n                className='file-upload-input'\n                type=\"text\"\n                name=\"description\"\n                id=\"\"\n                onChange={event=> {\n                    const description = event.target.value;\n                    setDescription(description);\n                }}\n                placeholder='File Description'>\n            </input>\n \n            <label>Video Image:</label>\n            <input\n                className='file-upload-input'\n                type=\"file\"\n                name=\"image\"\n                id=\"\"\n                accept='.jpg, .jpeg, .png'\n                onChange={event => {\n                    const image = event.target.files[0];\n                    setImage(image);\n                    setImagePreview(URL.createObjectURL(event.target.files[0]))\n                }}\n                placeholder='Image'>\n            </input>\n\n            Video File:\n            <input\n                className='file-upload-input'\n                type=\"file\"\n                name=\"file\"\n                id=\"\"\n                accept='.mp4'\n                onChange={event => {\n                    const file = event.target.files[0];\n                    setFile(file);\n                    setVideoPreview(URL.createObjectURL(event.target.files[0]))\n                }}\n                placeholder='File'>\n            </input>\n        </form>\n\n        <div className=\"uploadedFiles\">\n          <div className=\"uploadedImage\">\n            Your Video Image:\n            <img src={imagePreview} alt=\"\" className=\"uploadedImagePreview\"/>\n          </div>\n   \n          <div className=\"uploadedVideo\">\n              Your Video:\n             <iframe src={videoPreview} frameborder=\"0\" className=\"uploaded-video\" width={\"250px\"}></iframe>\n          </div>\n        </div>\n\n        <button className='file-upload-button' onClick={send}>Upload</button>\n\n    </div>\n    <ToastContainer />\n</div>\n  )\n};\n\nexport default AddVideo;"],"mappings":"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"},"metadata":{},"sourceType":"module"}